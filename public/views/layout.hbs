<!doctype html>
<html prefix="og: http://ogp.me/ns#" xmlns:og="http://ogp.me/ns#" class="no-js">
<head>
  <meta charset="utf-8">
  <title>{{site.title}} | {{#if post}}{{post.title}}{{else}}{{site.description}}{{/if}}</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="author" content="{{site.author.name}}">
  <meta name="description" content="{{#if post}}{{post.title}}{{else}}{{site.description}}{{/if}}">

  <base href="{{baseUrl}}/">

  <!-- OpenGraph tags -->
  <meta property="og:site_name" content="{{site.title}}">
  <meta property="og:type" content="website">
  <meta property="og:image" content="{{gravatar}}">
  <meta property="og:title" content="{{site.title}}">
  <meta property="og:url" content="{{baseUrl}}">
  <meta property="og:description" content="{{#if post}}{{post.title}}{{else}}{{site.description}}{{/if}}">

  {{#if site.social.twitter}}
  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@{{site.social.twitter}}">
  <meta name="twitter:creator" content="@{{site.social.twitter}}">
  <meta name="twitter:image:src" content="{{gravatar}}">
  <meta name="twitter:domain" content="{{baseUrl}}">
  {{/if}}

  <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="{{baseURL}}/rss.xml">

  <!-- Favicons for all browsers and unfortunately IE8/9 -->
  <link rel="icon" href="/path/to/favicon.png">
  <!--[if IE]><link rel="shortcut icon" href="/path/to/favicon.ico" /><![endif]-->
  <link rel="apple-touch-icon" sizes="144x144" href="/path/to/favicon.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/path/to/favicon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/path/to/favicon.png">
  <link rel="apple-touch-icon" href="/path/to/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="/path/to/favicon.png">

  <!-- Because IE10 ignores conditionals and doesn't support PNG for favicons, we use start screen tile icons!
     - http://www.jonathantneal.com/blog/understand-the-favicon/ -->
  <meta name="msapplication-TileColor" content="#D83434">
  <meta name="msapplication-TileImage" content="/path/to/favicon.png">

  <link href="/assets/css/site.css" rel="stylesheet">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- WebFont loader -->
  <script>
  WebFontConfig = {
    google: {
      families: ['Roboto:300,400,500', 'Lato:400', 'Droid Sans Mono', 'Vollkorn']
    }
  };
  (function(){var e=document.createElement("script");e.src="//ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js";e.async=1;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
  </script>

  <!-- Highlight.js -->
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/tomorrow-night-eighties.min.css">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script>

  <!-- Ugh, I guess include jQuery... -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  <!-- Google Analytics -->
  {{#if googleAnalytics }}
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{{googleAnalytics}}', '{{site.domain}}');
    ga('send', 'pageview');
  </script>
  {{/if}}
</head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div class="site-sidebar">
    <div class="site-bio">
      <a href="#" class="shake">
        <img src="{{gravatar}}" class="site-avatar" />
      </a>
      <p>{{site.description}}</p>
    </div>

    {{#if pages}}
    <nav class="header-nav" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
      <ul class="nav-menu">
        {{#each pages}}
        <li itemprop="url">
          <a href="{{ site.baseUrl }}{{ this.url }}" title="{{ this.title }}" itemprop="name">{{ this.title }}</a>
        </li>
        {{/each}}
      </ul>
    </nav>
    {{/if}}

    <ul class="social-icons">
      {{#if site.social.twitter}}
      <li>
        <a href="https://twitter.com/{{site.social.twitter}}" title="Twitter">
          <i class="fa fa-twitter-square"></i>
        </a>
      </li>
      {{/if}}
      {{#if site.social.github}}
      <li>
        <a href="https://github.com/{{site.social.github}}" title="Github">
          <i class="fa fa-github-square"></i>
        </a>
      </li>
      {{/if}}
      {{#if site.social.googleplus}}
      <li>
        <a href="{{site.social.googleplus}}?rel=author" title="Google+">
          <i class="fa fa-google-plus-square"></i>
        </a>
      </li>
      {{/if}}
      <li>
        <a href="{{baseUrl}}/rss.xml" title="RSS">
          <i class="fa fa-rss-square"></i>
        </a>
      </li>
    </ul>
  </div>

  <div class="site-container">
    <header class="site-header" role="banner" itemscope itemtype="http://schema.org/WPHeader">
      <h1 class="header-title" itemprop="headline">
        <a href="{{baseUrl}}">{{site.title}}</a>
      </h1>
      <div class="menu-trigger button">Menu</div>
    </header>

    <main class="grid gutter" role="main" itemscope itemprop="mainContentOfPage" itemtype="http://schema.org/Blog">
      <div class="column full-width">
        <div class="module">
          {{{body}}}
        </div>
      </div>
    </main>
  </div>

  <div class="overlay"></div>

  <script>
  $(document).ready(function () {
    var $body           = $('body');
    var $overlay        = $('.overlay');
    var $menuTrigger    = $('.menu-trigger');
    // var $siteContainer  = $('.site-container');
    // var $siteSideBar    = $('.site-sidebar');

    // var resizeContainer = function () {
    //   $siteContainer.width($siteContainer.width() - $siteSideBar.width());
    // };

    // resizeContainer();
    // $(window).resize(resizeContainer);

    $menuTrigger.on('click', function () {
      $body.addClass('menu-open');
    });

    $overlay.on('click', function () {
      $body.removeClass('menu-open');
    });

    $(document).keydown(function (e) {
      if (e.keyCode == 27) { // esc pressed
        $body.removeClass('menu-open');
      }
    });

    $('pre code').each(function (i, e) {
      $(e).addClass('hljs-code'); // to help with styling of `pre` block
      hljs.configure({ languages: [e.className] });
      hljs.highlightBlock(e);
    });
  });
  </script>
</body>
</html>
